<!DOCTYPE html>
<html>
<head>
    <title>Browser JavaScript Debug</title>
    <meta charset="UTF-8">
</head>
<body>
    <h1>🔍 JavaScript Execution Debug</h1>
    <div id="test-results">
        <div>Testing JavaScript execution...</div>
    </div>
    
    <script>
        // Test 1: Basic execution
        console.log('🧪 DEBUG: Basic JavaScript executing');
        document.getElementById('test-results').innerHTML = '<div style="color: green;">✅ Basic JavaScript working</div>';
        
        // Test 2: Check for CSP violations
        if (window.location.protocol === 'file:') {
            console.warn('🧪 DEBUG: Running from file:// protocol');
        }
        
        // Test 3: Check CSP headers
        console.log('🧪 DEBUG: Document referrer:', document.referrer);
        console.log('🧪 DEBUG: Document domain:', document.domain);
        console.log('🧪 DEBUG: Window location:', window.location.href);
        
        // Test 4: Check for error events
        window.addEventListener('error', function(e) {
            console.error('🧪 DEBUG: Global error caught:', e);
            document.getElementById('test-results').innerHTML += '<div style="color: red;">❌ Error: ' + e.message + '</div>';
        });
        
        // Test 5: Check console availability
        if (typeof console === 'undefined') {
            alert('Console is not available');
        }
        
        // Test 6: Immediate DOM update
        setTimeout(() => {
            document.getElementById('test-results').innerHTML += '<div style="color: blue;">🕐 setTimeout working</div>';
        }, 100);
    </script>
</body>
</html>